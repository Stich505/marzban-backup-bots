# üíæ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ Marzban –∏–∑ Telegram-–±–æ—Ç

## üõ° –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
–ë–æ—Ç —Å–æ–∑–¥–∞—é—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∏ —Ä—É—á–Ω—ã–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤ Marzban —Å –æ—Ç–ø—Ä–∞–≤–∫–æ–π —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ Telegram.

## ‚öôÔ∏è –ß—Ç–æ –¥–µ–ª–∞–µ—Ç

- üïõ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç –±—ç–∫–∞–ø –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 00:00 (–ø–æ –ú–°–ö)
- üí¨ –ü—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –≤ –±–æ—Ç–µ –≤—Ä—É—á–Ω—É—é –¥–µ–ª–∞–µ—Ç –±—ç–∫–∞–ø –∏ –ø—Ä–∏—Å—ã–ª–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –±–æ—Ç–∞
- üí£ –ü—Ä–∏ –æ—à–∏–±–∫–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ª–æ–≥-—Ñ–∞–π–ª –≤ Telegram
- üì¶ –ü—Ä–∏ —É—Å–ø–µ—Ö–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç zip-–∞—Ä—Ö–∏–≤
- ‚ôªÔ∏è –•—Ä–∞–Ω–∏—Ç —Ç–æ–ª—å–∫–æ 3 –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –±—ç–∫–∞–ø–∞
- üë§ –†–∞–±–æ—Ç–∞–µ—Ç –≤ Docker-–æ–∫—Ä—É–∂–µ–Ω–∏–∏ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π –æ–±—Ä–∞–∑–∞ Marzban
- üîê –ù–µ —à–∏—Ñ—Ä—É–µ—Ç –∞—Ä—Ö–∏–≤ (—á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ —Å—Ä–∞–∑—É –æ—Ç–∫—Ä—ã—Ç—å)
- üìÅ –ê—Ä—Ö–∏–≤—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ `/opt/marzban_backups`

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏–∑ –∞—Ä—Ö–∏–≤–∞

1. –°–∫–∞—á–∞–π –∞—Ä—Ö–∏–≤:
```bash
wget https://github.com/Stich505/marzban-backup-bot/raw/main/marzban_backup_full.tar.gz
```

2. –†–∞—Å–ø–∞–∫—É–π:
```bash
tar -xzf marzban_backup_full.tar.gz -C /
```

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
/opt/marzban_backup_system/
‚îî‚îÄ‚îÄ backup.sh               # –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç

/opt/marzban_backups/       # –ø–∞–ø–∫–∞ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –±—ç–∫–∞–ø–æ–≤

/opt/marzban_telegram_bot/
‚îú‚îÄ‚îÄ bot.py                  # Telegram-–±–æ—Ç
‚îú‚îÄ‚îÄ config.ini              # –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–æ–∫–µ–Ω–∞ –∏ –ø—É—Ç–∏
‚îú‚îÄ‚îÄ requirements.txt        # –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îî‚îÄ‚îÄ venv/                   # –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
```

## üõ† –ù–∞—Å—Ç—Ä–æ–π–∫–∞

1. –£—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```bash
cd /opt/marzban_telegram_bot
python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt
```

2. –î–æ–±–∞–≤—å Telegram-—Ç–æ–∫–µ–Ω –∏ ID –≤ `config.ini`.

3. –ù–∞—Å—Ç—Ä–æ–π systemd-—Å–µ—Ä–≤–∏—Å:
```bash
sudo nano /etc/systemd/system/marzban-bot.service
```

4. –ü—Ä–∏–º–µ—Ä —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ:
```ini
[Unit]
Description=Marzban Telegram Bot
After=network.target

[Service]
WorkingDirectory=/opt/marzban_telegram_bot
ExecStart=/opt/marzban_telegram_bot/venv/bin/python3 /opt/marzban_telegram_bot/bot.py
Restart=always

[Install]
WantedBy=multi-user.target
```

5. –ê–∫—Ç–∏–≤–∏—Ä—É–π –±–æ—Ç:
```bash
sudo systemctl daemon-reload
sudo systemctl enable marzban-bot
sudo systemctl start marzban-bot
```

## üí¨ Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

–í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è (—É—Å–ø–µ—à–Ω—ã–µ –∏ –æ—à–∏–±–∫–∏) –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ Telegram:

- –ü—Ä–∏ –æ—à–∏–±–∫–µ ‚Äî –ª–æ–≥-—Ñ–∞–π–ª `backup.log`
- –ü—Ä–∏ —É—Å–ø–µ—Ö–µ ‚Äî –∞—Ä—Ö–∏–≤ –±—ç–∫–∞–ø–∞ `.zip`

---

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ –ª–∏—Ü–µ–Ω–∑–∏–∏ [MIT](LICENSE). –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–≤–æ–±–æ–¥–Ω–æ, –Ω–æ –Ω–∞ —Å–≤–æ–π —Å—Ç—Ä–∞—Ö –∏ —Ä–∏—Å–∫.

(c) Stich505, 2025
